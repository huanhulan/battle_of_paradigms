!function(t){function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var e={};n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="/dist/",n(n.s=17)}([function(t,n,e){"use strict";function r(t,n){return t<n?-1:t===n?0:1}function o(t,n){return t===n}function i(t){return null===t?"COLLECTION_NULL":a(t)?"COLLECTION_UNDEFINED":c(t)?"$s"+t:"$o"+t.toString()}function s(t,e){if(void 0===e&&(e=","),null===t)return"COLLECTION_NULL";if(a(t))return"COLLECTION_UNDEFINED";if(c(t))return t.toString();var r="{",o=!0;for(var i in t)n.has(t,i)&&(o?o=!1:r+=e,r=r+i+":"+t[i]);return r+"}"}function u(t){return"function"==typeof t}function a(t){return void 0===t}function c(t){return"[object String]"===Object.prototype.toString.call(t)}function f(t){return u(t)?function(n,e){return-1*t(n,e)}:function(t,n){return t<n?1:t===n?0:-1}}function l(t){return function(n,e){return 0===t(n,e)}}Object.defineProperty(n,"__esModule",{value:!0});var h=Object.prototype.hasOwnProperty;n.has=function(t,n){return h.call(t,n)},n.defaultCompare=r,n.defaultEquals=o,n.defaultToString=i,n.makeString=s,n.isFunction=u,n.isUndefined=a,n.isString=c,n.reverseCompareFunction=f,n.compareToEquals=l},function(t,n,e){"use strict";var r=e(28),o=e(30),i=e(31),s=e(32),u=e(33),a=e(34),c=e(35),f=e(36);e.d(n,"a",function(){return r.a}),e.d(n,"b",function(){return o.a}),e.d(n,"d",function(){return i.a}),e.d(n,"e",function(){return s.a}),e.d(n,"h",function(){return u.a}),e.d(n,"g",function(){return a.a}),e.d(n,"f",function(){return c.a}),e.d(n,"c",function(){return f.a})},function(t,n,e){"use strict";function r(t){return t instanceof O?t.deps:[]}function o(t){return t instanceof O?t.f:t}function i(t){return t instanceof I?t.deps:[]}function s(t){return t instanceof I?t.f:t}function u(t){return t instanceof T?t.deps:[]}function a(t){return t instanceof T?t.f:t}function c(t){return t instanceof S?t.deps:[]}function f(t){return t instanceof S?t.f:t}function l(t){return t instanceof j?t.deps:[]}function h(t){return t instanceof j?t.f:t}function p(t){return t instanceof C?t.deps:[]}function d(t){return t instanceof C?t.f:t}function y(t){for(var n=[],e=0;e<t.length;e++){var r=t[e];n.push(new w(r.getVertex__(),null))}return n}function v(t,n){function e(){this.constructor=t}A(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}e.d(n,"c",function(){return $}),e.d(n,"a",function(){return H}),e.d(n,"d",function(){return P}),e.d(n,"e",function(){return R}),e.d(n,"b",function(){return z});var m,g=e(19),_=(e.n(g),e(27)),x=(e.n(_),0),w=function(){function t(t,n){if(this.registered=!1,this.deregister_=null,null===t)throw new Error("null origin!");this.origin=t,this.register_=n}return t.prototype.register=function(t){var n=this;this.registered||(this.registered=!0,null!==this.register_?this.deregister_=this.register_():(this.origin.increment(t),this.deregister_=function(){return n.origin.decrement(t)}))},t.prototype.deregister=function(t){this.registered&&(this.registered=!1,null!==this.deregister_&&this.deregister_())},t}();!function(t){t[t.black=0]="black",t[t.gray=1]="gray",t[t.white=2]="white",t[t.purple=3]="purple"}(m||(m={}));var b=[],E=0,N=function(){function t(t,n,e){this.targets=[],this.childrn=[],this.visited=!1,this.color=m.black,this.buffered=!1,this.refCountAdj=0,this.name=t,this.rank=n,this.sources=e,this.id=E++}return t.prototype.refCount=function(){return this.targets.length},t.prototype.register=function(t){return this.increment(t)},t.prototype.deregister=function(n){this.decrement(n),t.collectCycles()},t.prototype.incRefCount=function(t){var n=!1;if(0==this.refCount())for(var e=0;e<this.sources.length;e++)this.sources[e].register(this);return this.targets.push(t),t.childrn.push(this),t.ensureBiggerThan(this.rank)&&(n=!0),x++,n},t.prototype.decRefCount=function(t){for(var n=!1,e=0;e<t.childrn.length;e++)t.childrn[e]===this&&t.childrn.splice(e,1);for(e=0;e<this.targets.length;e++)if(this.targets[e]===t){this.targets.splice(e,1),n=!0;break}if(n){if(0==this.refCount())for(e=0;e<this.sources.length;e++)this.sources[e].deregister(this);x--}},t.prototype.addSource=function(t){this.sources.push(t),this.refCount()>0&&t.register(this)},t.prototype.ensureBiggerThan=function(t){if(this.rank>t||this.visited)return!1;this.visited=!0,this.rank=t+1;for(var n=0;n<this.targets.length;n++)this.targets[n].ensureBiggerThan(this.rank);return this.visited=!1,!0},t.prototype.descr=function(){var t=null;switch(this.color){case m.black:t="black";break;case m.gray:t="gray";break;case m.white:t="white";break;case m.purple:t="purple"}for(var n=this.id+" "+this.name+" ["+this.refCount()+"/"+this.refCountAdj+"] "+t+" ->",e=this.children(),r=0;r<e.length;r++)n=n+" "+e[r].id;return n},t.prototype.children=function(){return this.childrn},t.prototype.increment=function(t){return this.incRefCount(t)},t.prototype.decrement=function(t){this.decRefCount(t),0==this.refCount()?this.release():this.possibleRoots()},t.prototype.release=function(){this.color=m.black,this.buffered||this.free()},t.prototype.free=function(){for(;this.targets.length>0;)this.decRefCount(this.targets[0])},t.prototype.possibleRoots=function(){this.color!=m.purple&&(this.color=m.purple,this.buffered||(this.buffered=!0,b.push(this)))},t.collectCycles=function(){t.markRoots(),t.scanRoots(),t.collectRoots()},t.markRoots=function(){for(var t=[],n=0;n<b.length;n++)b[n].color==m.purple?(b[n].markGray(),t.push(b[n])):(b[n].buffered=!1,b[n].color==m.black&&0==b[n].refCount()&&b[n].free());b=t},t.scanRoots=function(){for(var t=0;t<b.length;t++)b[t].scan()},t.collectRoots=function(){for(var t=0;t<b.length;t++)b[t].buffered=!1,b[t].collectWhite();b=[]},t.prototype.markGray=function(){if(this.color!=m.gray){this.color=m.gray;for(var t=this.children(),n=0;n<t.length;n++)t[n].refCountAdj--,t[n].markGray()}},t.prototype.scan=function(){if(this.color==m.gray)if(this.refCount()+this.refCountAdj>0)this.scanBlack();else{this.color=m.white;for(var t=this.children(),n=0;n<t.length;n++)t[n].scan()}},t.prototype.scanBlack=function(){this.color=m.black;for(var t=this.children(),n=0;n<t.length;n++)t[n].refCountAdj++,t[n].color!=m.black&&t[n].scanBlack()},t.prototype.collectWhite=function(){if(this.color==m.white&&!this.buffered){this.color=m.black,this.refCountAdj=0;for(var t=this.children(),n=0;n<t.length;n++)t[n].collectWhite();this.free()}},t.NULL=new t("user",1e12,[]),t}(),O=function(){return function(t,n){this.f=t,this.deps=n}}(),I=function(){return function(t,n){this.f=t,this.deps=n}}(),T=function(){return function(t,n){this.f=t,this.deps=n}}(),S=function(){return function(t,n){this.f=t,this.deps=n}}(),j=function(){return function(t,n){this.f=t,this.deps=n}}(),C=function(){return function(t,n){this.f=t,this.deps=n}}(),A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])},k=function(){function t(n,e){this.rank=n,this.action=e,this.seq=t.nextSeq++}return t.prototype.toString=function(){return this.seq.toString()},t.nextSeq=0,t}(),P=function(){function t(){this.inCallback=0,this.toRegen=!1,this.prioritizedQ=new g.PriorityQueue(function(t,n){return t.rank.rank<n.rank.rank?1:t.rank.rank>n.rank.rank?-1:t.seq<n.seq?1:t.seq>n.seq?-1:0}),this.entries=new g.Set(function(t){return t.toString()}),this.lastQ=[],this.postQ=null}return t.prototype.requestRegen=function(){this.toRegen=!0},t.prototype.prioritized=function(t,n){var e=new k(t,n);this.prioritizedQ.enqueue(e),this.entries.add(e)},t.prototype.last=function(t){this.lastQ.push(t)},t.prototype.post=function(t,n){for(null==this.postQ&&(this.postQ=[]);this.postQ.length<=t;)this.postQ.push(null);var e=this.postQ[t],r=null===e?n:function(){e(),n()};this.postQ[t]=r},t.prototype.checkRegen=function(){if(this.toRegen){this.toRegen=!1,this.prioritizedQ.clear();for(var t=this.entries.toArray(),n=0;n<t.length;n++)this.prioritizedQ.enqueue(t[n])}},t.prototype.isActive=function(){return!!t.currentTransaction},t.prototype.close=function(){for(;this.checkRegen(),!this.prioritizedQ.isEmpty();){var n=this.prioritizedQ.dequeue();this.entries.remove(n),n.action()}for(var e=0;e<this.lastQ.length;e++)this.lastQ[e]();if(this.lastQ=[],null!=this.postQ){for(e=0;e<this.postQ.length;e++)if(null!=this.postQ[e]){var r=t.currentTransaction;try{if(e>0){t.currentTransaction=new t;try{this.postQ[e](),t.currentTransaction.close()}catch(n){throw t.currentTransaction.close(),n}}else t.currentTransaction=null,this.postQ[e]();t.currentTransaction=r}catch(n){throw t.currentTransaction=r,n}}this.postQ=null}},t.onStart=function(n){t.onStartHooks.push(n)},t.run=function(n){var e=t.currentTransaction;if(null===e){if(!t.runningOnStartHooks){t.runningOnStartHooks=!0;try{for(var r=0;r<t.onStartHooks.length;r++)t.onStartHooks[r]()}finally{t.runningOnStartHooks=!1}}t.currentTransaction=new t}try{var o=n();return null===e&&(t.currentTransaction.close(),t.currentTransaction=null),o}catch(n){throw null===e&&(t.currentTransaction.close(),t.currentTransaction=null),n}},t.currentTransaction=null,t.onStartHooks=[],t.runningOnStartHooks=!1,t}(),V=function(){function t(t,n){this.f=s(t),this.out=n,this.out.getVertex__().sources=this.out.getVertex__().sources.concat(y(i(t))),this.accumValid=!1}return t.prototype.send_=function(t){var n=this;this.accumValid?this.accum=this.f(this.accum,t):(P.currentTransaction.prioritized(this.out.getVertex__(),function(){n.out.send_(n.accum),n.accumValid=!1,n.accum=null}),this.accum=t,this.accumValid=!0)},t}(),M=function(){function t(t){this.f=t}return t.prototype.get=function(){return this.f()},t.prototype.map=function(n){var e=this;return new t(function(){return n(e.f())})},t.prototype.lift=function(n,e){var r=this;return new t(function(){return e(r.f(),n.f())})},t.prototype.lift3=function(n,e,r){var o=this;return new t(function(){return r(o.f(),n.f(),e.f())})},t.prototype.lift4=function(n,e,r,o){var i=this;return new t(function(){return o(i.f(),n.f(),e.f(),r.f())})},t}(),R=function(){function t(){}return t.UNIT=new t,t}(),z=function(){function t(){}return t.updates=function(t){return t.getStream__()},t.value=function(n){return P.run(function(){var e=new B;P.currentTransaction.prioritized(e.getVertex__(),function(){e.send_(R.UNIT)});var r=e.snapshot1(n);return t.updates(n).orElse(r)})},t.defer=function(n){return t.split(n.map(function(t){return[t]}))},t.split=function(t){var n=new B(null);return n.setVertex__(new N("split",0,[new w(t.getVertex__(),function(){return t.listen_(n.getVertex__(),function(t){for(var e=0;e<t.length;e++)!function(e){P.currentTransaction.post(e,function(){P.run(function(){n.send_(t[e])})})}(e)},!1)})])),n},t}(),D=function(){return function(t){this.hasValue=!1,this.value=null,this.cell=t}}(),q=function(){return function(){this.f=null,this.f_present=!1,this.a=null,this.a_present=!1}}(),L=function(){function t(t,n){var e=this;this.value=t,n?P.run(function(){return e.setStream(n)}):(this.str=new Q,this.vertex=new N("ConstCell",0,[]))}return t.prototype.setStream=function(t){var n=this;this.str=t;var e=this,r=new w(t.getVertex__(),function(){return t.listen_(e.vertex,function(t){null==e.valueUpdate&&P.currentTransaction.last(function(){e.value=e.valueUpdate,e.lazyInitValue=null,e.valueUpdate=null}),e.valueUpdate=t},!1)});this.vertex=new N("Cell",0,[r]),this.vertex.register(N.NULL),P.currentTransaction.last(function(){n.vertex.deregister(N.NULL)})},t.prototype.getVertex__=function(){return this.vertex},t.prototype.getStream__=function(){return this.str},t.prototype.sample=function(){var t=this;return P.run(function(){return t.sampleNoTrans__()})},t.prototype.sampleNoTrans__=function(){return this.value},t.prototype.sampleLazy=function(){var t=this;return P.run(function(){return t.sampleLazyNoTrans__()})},t.prototype.sampleLazyNoTrans__=function(){var t=this,n=new D(t);return P.currentTransaction.last(function(){n.value=null!=t.valueUpdate?t.valueUpdate:t.sampleNoTrans__(),n.hasValue=!0,n.cell=null}),new M(function(){return n.hasValue?n.value:n.cell.sample()})},t.prototype.map=function(t){var n=this;return P.run(function(){return z.updates(n).map(t).holdLazy(n.sampleLazy().map(o(t)))})},t.prototype.lift=function(n,e){var r=s(e),o=this.map(function(t){return function(n){return r(t,n)}});return t.apply(o,n,y(i(e)))},t.prototype.lift3=function(n,e,r){var o=a(r),i=this.map(function(t){return function(n){return function(e){return o(t,n,e)}}});return t.apply(t.apply(i,n),e,y(u(r)))},t.prototype.lift4=function(n,e,r,o){var i=f(o),s=this.map(function(t){return function(n){return function(e){return function(r){return i(t,n,e,r)}}}});return t.apply(t.apply(t.apply(s,n),e),r,y(c(o)))},t.prototype.lift5=function(n,e,r,o,i){var s=h(i),u=this.map(function(t){return function(n){return function(e){return function(r){return function(o){return s(t,n,e,r,o)}}}}});return t.apply(t.apply(t.apply(t.apply(u,n),e),r),o,y(l(i)))},t.prototype.lift6=function(n,e,r,o,i,s){var u=d(s),a=this.map(function(t){return function(n){return function(e){return function(r){return function(o){return function(i){return u(t,n,e,r,o,i)}}}}}});return t.apply(t.apply(t.apply(t.apply(t.apply(a,n),e),r),o),i,y(p(s)))},t.apply=function(t,n,e){return P.run(function(){var r=new q,o=new B,i=z.value(t),s=z.value(n),u=new w(i.getVertex__(),function(){return i.listen_(o.getVertex__(),function(t){r.f=t,r.f_present=!0,r.a_present&&o.send_(r.f(r.a))},!1)}),a=new w(s.getVertex__(),function(){return s.listen_(o.getVertex__(),function(t){r.a=t,r.a_present=!0,r.f_present&&o.send_(r.f(r.a))},!1)});return o.setVertex__(new N("apply",0,[u,a].concat(e||[]))),o.coalesce__(function(t,n){return n}).holdLazy(new M(function(){return t.sampleNoTrans__()(n.sampleNoTrans__())}))})},t.switchC=function(t){return P.run(function(){var n=t.sampleLazy().map(function(t){return t.sample()}),e=new B,r=null,o=z.value(t),i=new w(o.getVertex__(),function(){var t=null===r?null:z.value(r).listen_(e.getVertex__(),function(t){return e.send_(t)},!1),n=o.listen_(e.getVertex__(),function(n){r=n,null!==t&&t(),t=z.value(n).listen_(e.getVertex__(),function(t){return e.send_(t)},!1)},!1);return function(){n(),t()}});return e.setVertex__(new N("switchC",0,[i])),e.coalesce__(function(t,n){return n}).holdLazy(n)})},t.switchS=function(t){return P.run(function(){var n=new B,e=function(t){n.send_(t)},r=new w(t.getVertex__(),function(){var r=t.sampleNoTrans__().listen_(n.getVertex__(),e,!1),o=t.getStream__().listen_(n.getVertex__(),function(t){r(),r=t.listen_(n.getVertex__(),e,!0)},!1);return function(){o(),r()}});return n.setVertex__(new N("switchS",0,[r])),n})},t.prototype.listen=function(t){var n=this;return P.run(function(){return z.value(n).listen(t)})},t["fantasy-land/of"]=function(n){return new t(n)},t.prototype["fantasy-land/map"]=function(t){return this.map(t)},t.prototype["fantasy-land/ap"]=function(n){return t.apply(n,this)},t.prototype["fantasy-land/chain"]=function(n){return t.switchC(this.map(n))},t.prototype["fantasy-land/extend"]=function(n){return new t(n(this))},t.prototype["fantasy-land/extract"]=function(){return this.sample()},t}(),U=function(){return function(t,n){this.h=t,this.target=n}}(),F=function(t){function n(n,e){var r=t.call(this,null,null)||this;return P.run(function(){e&&r.setStream(e),r.lazyInitValue=n}),r}return v(n,t),n.prototype.sampleNoTrans__=function(){return null==this.value&&null!=this.lazyInitValue&&(this.value=this.lazyInitValue.get(),this.lazyInitValue=null),this.value},n}(L),Q=function(){function t(t){this.listeners=[],this.firings=[],this.vertex=t||new N("Stream",0,[])}return t.prototype.getVertex__=function(){return this.vertex},t.prototype.map=function(t){var n=this,e=new B(null),i=o(t);return e.vertex=new N("map",0,[new w(this.vertex,function(){return n.listen_(e.vertex,function(t){e.send_(i(t))},!1)})].concat(y(r(t)))),e},t.prototype.mapTo=function(t){var n=this,e=new B(null);return e.vertex=new N("mapTo",0,[new w(this.vertex,function(){return n.listen_(e.vertex,function(n){e.send_(t)},!1)})]),e},t.prototype.orElse=function(t){return this.merge(t,function(t,n){return t})},t.prototype.merge_=function(t){var n=this,e=new B,r=new N("merge",0,[]);return r.sources.push(new w(this.vertex,function(){return n.listen_(r,function(t){e.send_(t)},!1)})),e.vertex.sources=e.vertex.sources.concat([new w(r,function(){return r.register(e.vertex),function(){r.deregister(e.vertex)}}),new w(t.vertex,function(){return t.listen_(e.vertex,function(t){e.send_(t)},!1)})]),e},t.prototype.coalesce__=function(t){var n=this,e=new B,r=new V(t,e);return e.vertex.sources=e.vertex.sources.concat([new w(this.vertex,function(){return n.listen_(e.vertex,function(t){r.send_(t)},!1)})]).concat(y(i(t))),e},t.prototype.merge=function(t,n){var e=this;return P.run(function(){return e.merge_(t).coalesce__(n)})},t.prototype.filter=function(t){var n=this,e=new B(null),i=o(t);return e.vertex=new N("filter",0,[new w(this.vertex,function(){return n.listen_(e.vertex,function(t){i(t)&&e.send_(t)},!1)})].concat(y(r(t)))),e},t.prototype.filterNotNull=function(){var t=this,n=new B(null);return n.vertex=new N("filterNotNull",0,[new w(this.vertex,function(){return t.listen_(n.vertex,function(t){null!==t&&n.send_(t)},!1)})]),n},t.prototype.gate=function(t){return this.snapshot(t,function(t,n){return n?t:null}).filterNotNull()},t.prototype.snapshot1=function(t){var n=this,e=new B(null);return e.vertex=new N("snapshot1",0,[new w(this.vertex,function(){return n.listen_(e.vertex,function(n){e.send_(t.sampleNoTrans__())},!1)}),new w(t.getVertex__(),null)]),e},t.prototype.snapshot=function(t,n){var e=this,r=new B(null),o=s(n);return r.vertex=new N("snapshot",0,[new w(this.vertex,function(){return e.listen_(r.vertex,function(n){r.send_(o(n,t.sampleNoTrans__()))},!1)}),new w(t.getVertex__(),null)].concat(y(i(n)))),r},t.prototype.snapshot3=function(t,n,e){var r=this,o=new B(null),i=a(e);return o.vertex=new N("snapshot",0,[new w(this.vertex,function(){return r.listen_(o.vertex,function(e){o.send_(i(e,t.sampleNoTrans__(),n.sampleNoTrans__()))},!1)}),new w(t.getVertex__(),null),new w(n.getVertex__(),null)].concat(y(u(e)))),o},t.prototype.snapshot4=function(t,n,e,r){var o=this,i=new B(null),s=f(r);return i.vertex=new N("snapshot",0,[new w(this.vertex,function(){return o.listen_(i.vertex,function(r){i.send_(s(r,t.sampleNoTrans__(),n.sampleNoTrans__(),e.sampleNoTrans__()))},!1)}),new w(t.getVertex__(),null),new w(n.getVertex__(),null),new w(e.getVertex__(),null)].concat(y(c(r)))),i},t.prototype.snapshot5=function(t,n,e,r,o){var i=this,s=new B(null),u=h(o);return s.vertex=new N("snapshot",0,[new w(this.vertex,function(){return i.listen_(s.vertex,function(o){s.send_(u(o,t.sampleNoTrans__(),n.sampleNoTrans__(),e.sampleNoTrans__(),r.sampleNoTrans__()))},!1)}),new w(t.getVertex__(),null),new w(n.getVertex__(),null),new w(e.getVertex__(),null),new w(r.getVertex__(),null)].concat(y(l(o)))),s},t.prototype.snapshot6=function(t,n,e,r,o,i){var s=this,u=new B(null),a=d(i);return u.vertex=new N("snapshot",0,[new w(this.vertex,function(){return s.listen_(u.vertex,function(i){u.send_(a(i,t.sampleNoTrans__(),n.sampleNoTrans__(),e.sampleNoTrans__(),r.sampleNoTrans__(),o.sampleNoTrans__()))},!1)}),new w(t.getVertex__(),null),new w(n.getVertex__(),null),new w(e.getVertex__(),null),new w(r.getVertex__(),null),new w(o.getVertex__(),null)].concat(y(p(i)))),u},t.prototype.hold=function(t){return new L(t,this)},t.prototype.holdLazy=function(t){return new F(t,this)},t.prototype.collect=function(t,n){return this.collectLazy(new M(function(){return t}),n)},t.prototype.collectLazy=function(t,n){var e=this;return P.run(function(){var r=new W,o=r.holdLazy(t),i=e.snapshot(o,n),s=i.map(function(t){return t.a}),u=i.map(function(t){return t.b});return r.loop(u),s})},t.prototype.accum=function(t,n){return this.accumLazy(new M(function(){return t}),n)},t.prototype.accumLazy=function(t,n){var e=this;return P.run(function(){var r=new W,o=r.holdLazy(t),i=e.snapshot(o,n);return r.loop(i),i.holdLazy(t)})},t.prototype.once=function(){var t=this;return P.run(function(){return t.gate(t.mapTo(!1).hold(!0))})},t.prototype.listen=function(t){var n=this;return P.run(function(){return n.listen_(N.NULL,t,!1)})},t.prototype.listen_=function(t,n,e){var r=this;this.vertex.register(t)&&P.currentTransaction.requestRegen();var o=new U(n,t);if(this.listeners.push(o),!e&&0!=this.firings.length){var i=this.firings.slice();P.currentTransaction.prioritized(t,function(){for(var t=0;t<i.length;t++)n(i[t])})}return function(){for(var n=!1,e=0;e<r.listeners.length;e++)if(r.listeners[e]==o){r.listeners.splice(e,1),n=!0;break}n&&r.vertex.deregister(t)}},t.prototype["fantasy-land/map"]=function(t){return this.map(t)},t.prototype["fantasy-land/concat"]=function(t){return this.merge(t,function(t,n){return _.Semigroup.test(t)?Object(_.concat)(t,n):t})},t.prototype["fantasy-land/empty"]=function(){return new t},t}(),B=function(t){function n(n){return t.call(this,n)||this}return v(n,t),n.prototype.setVertex__=function(t){this.vertex=t},n.prototype.send_=function(t){var n=this;if(0==this.vertex.refCount())throw new Error("send() was invoked before listeners were registered");0==this.firings.length&&P.currentTransaction.last(function(){n.firings=[]}),this.firings.push(t);for(var e=this.listeners.slice(),r=0;r<e.length;r++)!function(n){var r=e[n].h;P.currentTransaction.prioritized(e[n].target,function(){P.currentTransaction.inCallback++;try{r(t),P.currentTransaction.inCallback--}catch(t){throw P.currentTransaction.inCallback--,t}})}(r)},n}(Q),W=function(t){function n(){var n=t.call(this)||this;if(n.assigned__=!1,n.vertex.name="StreamLoop",null===P.currentTransaction)throw new Error("StreamLoop/CellLoop must be used within an explicit transaction");return n}return v(n,t),n.prototype.loop=function(t){var n=this;if(this.assigned__)throw new Error("StreamLoop looped more than once");this.assigned__=!0,this.vertex.addSource(new w(t.getVertex__(),function(){return t.listen_(n.vertex,function(t){n.send_(t)},!1)}))},n}(B),$=function(t){function n(n){var e=t.call(this)||this;return n||(n=function(t,n){throw new Error("send() called more than once per transaction, which isn't allowed. Did you want to combine the events? Then pass a combining function to your StreamSink constructor.")}),e.coalescer=new V(n,e),e}return v(n,t),n.prototype.send=function(t){var n=this;P.run(function(){if(P.currentTransaction.inCallback>0)throw new Error("You are not allowed to use send() inside a Sodium callback");n.coalescer.send_(t)})},n}(B),H=function(t){function n(){return t.call(this,null,new W)||this}return v(n,t),n.prototype.loop=function(t){var n=this;P.run(function(){n.getStream__().loop(t.getStream__()),n.lazyInitValue=t.sampleLazy()})},n.prototype.sampleNoTrans__=function(){if(!this.getStream__().assigned__)throw new Error("CellLoop sampled before it was looped");return t.prototype.sampleNoTrans__.call(this)},n}(F),K=function(t){function n(n,e){return t.call(this,n,new $(e))||this}return v(n,t),n.prototype.send=function(t){this.getStream__().send(t)},n}(L),G=(function(){}(),function(){return function(){}}()),J=0,Y=function(){return function(t,n){this.t=t,this.sAlarm=n,this.seq=++J}}(),X=function(){function t(t){var n=this;this.eventQueue=new g.BSTree(function(t,n){return t.t<n.t?-1:t.t>n.t?1:t.seq<n.seq?-1:t.seq>n.seq?1:0}),P.run(function(){n.impl=t,n.tMinimum=0;var e=new K(t.now());n.time=e,n.time.listen(function(t){}),P.onStart(function(){for(var r=n.tMinimum=Math.max(n.tMinimum,t.now());"break"!==function(){var t=null;if(!n.eventQueue.isEmpty()){var o=n.eventQueue.minimum();o.t<=r&&(t=o)}if(null==t)return"break";e.send(t.t),P.run(function(){return t.sAlarm.send_(t.t)})}(););e.send(r)})})}return t.prototype.at=function(t){var n=this,e=null,r=null,o=!1,i=null,s=!1,u=new B(null),a=function(){null!==r&&(r(),n.eventQueue.remove(e)),r=null,e=null,o&&(s||(s=!0,i=t.sampleNoTrans__()),null!==i&&(e=new Y(i,u),n.eventQueue.add(e),r=n.impl.setTimer(i,function(){n.tMinimum=Math.max(n.tMinimum,i),P.run(function(){})})))};return u.setVertex__(new N("at",0,[new w(t.getVertex__(),function(){o=!0,s=!1,P.currentTransaction.prioritized(u.getVertex__(),a);var n=t.getStream__().listen_(u.getVertex__(),function(t){i=t,s=!0,a()},!1);return function(){o=!1,a(),n()}})])),u},t}(),Z=(function(t){function n(){return t.call(this,new Z)||this}v(n,t)}(X),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return v(n,t),n.prototype.setTimer=function(t,n){var e=setTimeout(n,Math.max(1e3*(t-this.now()),0));return function(){clearTimeout(e)}},n.prototype.now=function(){return.001*Date.now()},n}(G)),tt=(function(t){function n(){return t.call(this,new tt)||this}v(n,t)}(X),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return v(n,t),n.prototype.setTimer=function(t,n){var e=setTimeout(n,Math.max(t-this.now(),0));return function(){clearTimeout(e)}},n.prototype.now=function(){return Date.now()},n}(G));!function(){function t(){}t.fromAsync=function(t){return function(n){var e=new B(null);return e.setVertex__(new N("map",0,[new w(n.getVertex__(),function(){return n.listen_(e.getVertex__(),function(n){t(n,function(t){P.run(function(){e.send_(t)})})},!1)})])),e}}}()},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(0),o=function(){function t(t){this.table={},this.nElements=0,this.toStr=t||r.defaultToString}return t.prototype.getValue=function(t){var n=this.table["$"+this.toStr(t)];if(!r.isUndefined(n))return n.value},t.prototype.setValue=function(t,n){if(!r.isUndefined(t)&&!r.isUndefined(n)){var e,o="$"+this.toStr(t),i=this.table[o];return r.isUndefined(i)?(this.nElements++,e=void 0):e=i.value,this.table[o]={key:t,value:n},e}},t.prototype.remove=function(t){var n="$"+this.toStr(t),e=this.table[n];if(!r.isUndefined(e))return delete this.table[n],this.nElements--,e.value},t.prototype.keys=function(){var t=[];for(var n in this.table)if(r.has(this.table,n)){var e=this.table[n];t.push(e.key)}return t},t.prototype.values=function(){var t=[];for(var n in this.table)if(r.has(this.table,n)){var e=this.table[n];t.push(e.value)}return t},t.prototype.forEach=function(t){for(var n in this.table)if(r.has(this.table,n)){var e=this.table[n],o=t(e.key,e.value);if(!1===o)return}},t.prototype.containsKey=function(t){return!r.isUndefined(this.getValue(t))},t.prototype.clear=function(){this.table={},this.nElements=0},t.prototype.size=function(){return this.nElements},t.prototype.isEmpty=function(){return this.nElements<=0},t.prototype.toString=function(){var t="{";return this.forEach(function(n,e){t+="\n\t"+n+" : "+e}),t+"\n}"},t}();n.default=o},function(t,n,e){"use strict";function r(t,n,e){for(var r=e||p.defaultEquals,o=t.length,i=0;i<o;i++)if(r(t[i],n))return i;return-1}function o(t,n,e){for(var r=e||p.defaultEquals,o=t.length,i=o-1;i>=0;i--)if(r(t[i],n))return i;return-1}function i(t,n,e){return r(t,n,e)>=0}function s(t,n,e){var o=r(t,n,e);return!(o<0)&&(t.splice(o,1),!0)}function u(t,n,e){for(var r=e||p.defaultEquals,o=t.length,i=0,s=0;s<o;s++)r(t[s],n)&&i++;return i}function a(t,n,e){var r=e||p.defaultEquals;if(t.length!==n.length)return!1;for(var o=t.length,i=0;i<o;i++)if(!r(t[i],n[i]))return!1;return!0}function c(t){return t.concat()}function f(t,n,e){if(n<0||n>=t.length||e<0||e>=t.length)return!1;var r=t[n];return t[n]=t[e],t[e]=r,!0}function l(t){return"["+t.toString()+"]"}function h(t,n){for(var e=0,r=t;e<r.length;e++){if(!1===n(r[e]))return}}Object.defineProperty(n,"__esModule",{value:!0});var p=e(0);n.indexOf=r,n.lastIndexOf=o,n.contains=i,n.remove=s,n.frequency=u,n.equals=a,n.copy=c,n.swap=f,n.toString=l,n.forEach=h},function(t,n,e){(function(n){function e(t,n,e){function r(n){var e=y,r=v;return y=v=void 0,N=n,g=t.apply(r,e)}function i(t){return N=t,_=setTimeout(f,n),O?r(t):g}function s(t){var e=t-x,r=t-N,o=n-e;return I?b(o,m-r):o}function c(t){var e=t-x,r=t-N;return void 0===x||e>=n||e<0||I&&r>=m}function f(){var t=E();if(c(t))return l(t);_=setTimeout(f,s(t))}function l(t){return _=void 0,T&&y?r(t):(y=v=void 0,g)}function h(){void 0!==_&&clearTimeout(_),N=0,y=x=v=_=void 0}function p(){return void 0===_?g:l(E())}function d(){var t=E(),e=c(t);if(y=arguments,v=this,x=t,e){if(void 0===_)return i(x);if(I)return _=setTimeout(f,n),r(x)}return void 0===_&&(_=setTimeout(f,n)),g}var y,v,m,g,_,x,N=0,O=!1,I=!1,T=!0;if("function"!=typeof t)throw new TypeError(a);return n=u(n)||0,o(e)&&(O=!!e.leading,I="maxWait"in e,m=I?w(u(e.maxWait)||0,n):m,T="trailing"in e?!!e.trailing:T),d.cancel=h,d.flush=p,d}function r(t,n,r){var i=!0,s=!0;if("function"!=typeof t)throw new TypeError(a);return o(r)&&(i="leading"in r?!!r.leading:i,s="trailing"in r?!!r.trailing:s),e(t,n,{leading:i,maxWait:n,trailing:s})}function o(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}function i(t){return!!t&&"object"==typeof t}function s(t){return"symbol"==typeof t||i(t)&&x.call(t)==f}function u(t){if("number"==typeof t)return t;if(s(t))return c;if(o(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=o(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(l,"");var e=p.test(t);return e||d.test(t)?y(t.slice(2),e?2:8):h.test(t)?c:+t}var a="Expected a function",c=NaN,f="[object Symbol]",l=/^\s+|\s+$/g,h=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,d=/^0o[0-7]+$/i,y=parseInt,v="object"==typeof n&&n&&n.Object===Object&&n,m="object"==typeof self&&self&&self.Object===Object&&self,g=v||m||Function("return this")(),_=Object.prototype,x=_.toString,w=Math.max,b=Math.min,E=function(){return g.Date.now()};t.exports=r}).call(n,e(37))},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(0),o=e(4),i=function(){function t(){this.firstNode=null,this.lastNode=null,this.nElements=0}return t.prototype.add=function(t,n){if(r.isUndefined(n)&&(n=this.nElements),n<0||n>this.nElements||r.isUndefined(t))return!1;var e=this.createNode(t);if(0===this.nElements)this.firstNode=e,this.lastNode=e;else if(n===this.nElements)this.lastNode.next=e,this.lastNode=e;else if(0===n)e.next=this.firstNode,this.firstNode=e;else{var o=this.nodeAtIndex(n-1);e.next=o.next,o.next=e}return this.nElements++,!0},t.prototype.first=function(){if(null!==this.firstNode)return this.firstNode.element},t.prototype.last=function(){if(null!==this.lastNode)return this.lastNode.element},t.prototype.elementAtIndex=function(t){var n=this.nodeAtIndex(t);if(null!==n)return n.element},t.prototype.indexOf=function(t,n){var e=n||r.defaultEquals;if(r.isUndefined(t))return-1;for(var o=this.firstNode,i=0;null!==o;){if(e(o.element,t))return i;i++,o=o.next}return-1},t.prototype.contains=function(t,n){return this.indexOf(t,n)>=0},t.prototype.remove=function(t,n){var e=n||r.defaultEquals;if(this.nElements<1||r.isUndefined(t))return!1;for(var o=null,i=this.firstNode;null!==i;){if(e(i.element,t))return i===this.firstNode?(this.firstNode=this.firstNode.next,i===this.lastNode&&(this.lastNode=null)):i===this.lastNode?(this.lastNode=o,o.next=i.next,i.next=null):(o.next=i.next,i.next=null),this.nElements--,!0;o=i,i=i.next}return!1},t.prototype.clear=function(){this.firstNode=null,this.lastNode=null,this.nElements=0},t.prototype.equals=function(n,e){var o=e||r.defaultEquals;return n instanceof t&&(this.size()===n.size()&&this.equalsAux(this.firstNode,n.firstNode,o))},t.prototype.equalsAux=function(t,n,e){for(;null!==t;){if(!e(t.element,n.element))return!1;t=t.next,n=n.next}return!0},t.prototype.removeElementAtIndex=function(t){if(!(t<0||t>=this.nElements)){var n;if(1===this.nElements)n=this.firstNode.element,this.firstNode=null,this.lastNode=null;else{var e=this.nodeAtIndex(t-1);null===e?(n=this.firstNode.element,this.firstNode=this.firstNode.next):e.next===this.lastNode&&(n=this.lastNode.element,this.lastNode=e),null!==e&&(n=e.next.element,e.next=e.next.next)}return this.nElements--,n}},t.prototype.forEach=function(t){for(var n=this.firstNode;null!==n&&!1!==t(n.element);)n=n.next},t.prototype.reverse=function(){for(var t=null,n=this.firstNode,e=null;null!==n;)e=n.next,n.next=t,t=n,n=e;e=this.firstNode,this.firstNode=this.lastNode,this.lastNode=e},t.prototype.toArray=function(){for(var t=[],n=this.firstNode;null!==n;)t.push(n.element),n=n.next;return t},t.prototype.size=function(){return this.nElements},t.prototype.isEmpty=function(){return this.nElements<=0},t.prototype.toString=function(){return o.toString(this.toArray())},t.prototype.nodeAtIndex=function(t){if(t<0||t>=this.nElements)return null;if(t===this.nElements-1)return this.lastNode;for(var n=this.firstNode,e=0;e<t;e++)n=n.next;return n},t.prototype.createNode=function(t){return{element:t,next:null}},t}();n.default=i},function(t,n,e){"use strict";e.d(n,"b",function(){return r}),e.d(n,"a",function(){return o}),e.d(n,"d",function(){return i}),e.d(n,"c",function(){return s});var r=300,o=200,i="#4090ff",s=[{id:"cat",cords:[{x:55,y:90},{x:67,y:54},{x:72,y:89},{x:99,y:88},{x:106,y:54},{x:115,y:91},{x:123,y:106},{x:100,y:134},{x:88,y:130},{x:80,y:134},{x:48,y:108}]},{id:"dog",cords:[{x:171,y:58},{x:154,y:80},{x:156,y:120},{x:166,y:110},{x:166,y:82},{x:183,y:130},{x:202,y:127},{x:221,y:78},{x:225,y:111},{x:237,y:119},{x:231,y:59},{x:211,y:66},{x:195,y:60},{x:180,y:72}]}]},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(0),o=e(4),i=e(3),s=function(){function t(t){this.dictionary=new i.default(t)}return t.prototype.contains=function(t){return this.dictionary.containsKey(t)},t.prototype.add=function(t){return!this.contains(t)&&!r.isUndefined(t)&&(this.dictionary.setValue(t,t),!0)},t.prototype.intersection=function(t){var n=this;this.forEach(function(e){return t.contains(e)||n.remove(e),!0})},t.prototype.union=function(t){var n=this;t.forEach(function(t){return n.add(t),!0})},t.prototype.difference=function(t){var n=this;t.forEach(function(t){return n.remove(t),!0})},t.prototype.isSubsetOf=function(t){if(this.size()>t.size())return!1;var n=!0;return this.forEach(function(e){return!!t.contains(e)||(n=!1,!1)}),n},t.prototype.remove=function(t){return!!this.contains(t)&&(this.dictionary.remove(t),!0)},t.prototype.forEach=function(t){this.dictionary.forEach(function(n,e){return t(e)})},t.prototype.toArray=function(){return this.dictionary.values()},t.prototype.isEmpty=function(){return this.dictionary.isEmpty()},t.prototype.size=function(){return this.dictionary.size()},t.prototype.clear=function(){this.dictionary.clear()},t.prototype.toString=function(){return o.toString(this.toArray())},t}();n.default=s},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(6),o=function(){function t(){this.list=new r.default}return t.prototype.enqueue=function(t){return this.list.add(t)},t.prototype.add=function(t){return this.list.add(t)},t.prototype.dequeue=function(){if(0!==this.list.size()){var t=this.list.first();return this.list.removeElementAtIndex(0),t}},t.prototype.peek=function(){if(0!==this.list.size())return this.list.first()},t.prototype.size=function(){return this.list.size()},t.prototype.contains=function(t,n){return this.list.contains(t,n)},t.prototype.isEmpty=function(){return this.list.size()<=0},t.prototype.clear=function(){this.list.clear()},t.prototype.forEach=function(t){this.list.forEach(t)},t}();n.default=o},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(0),o=e(4),i=function(){function t(t){this.data=[],this.compare=t||r.defaultCompare}return t.prototype.leftChildIndex=function(t){return 2*t+1},t.prototype.rightChildIndex=function(t){return 2*t+2},t.prototype.parentIndex=function(t){return Math.floor((t-1)/2)},t.prototype.minIndex=function(t,n){return n>=this.data.length?t>=this.data.length?-1:t:this.compare(this.data[t],this.data[n])<=0?t:n},t.prototype.siftUp=function(t){for(var n=this.parentIndex(t);t>0&&this.compare(this.data[n],this.data[t])>0;)o.swap(this.data,n,t),t=n,n=this.parentIndex(t)},t.prototype.siftDown=function(t){for(var n=this.minIndex(this.leftChildIndex(t),this.rightChildIndex(t));n>=0&&this.compare(this.data[t],this.data[n])>0;)o.swap(this.data,n,t),t=n,n=this.minIndex(this.leftChildIndex(t),this.rightChildIndex(t))},t.prototype.peek=function(){return this.data.length>0?this.data[0]:void 0},t.prototype.add=function(t){if(!r.isUndefined(t))return this.data.push(t),this.siftUp(this.data.length-1),!0},t.prototype.removeRoot=function(){if(this.data.length>0){var t=this.data[0];return this.data[0]=this.data[this.data.length-1],this.data.splice(this.data.length-1,1),this.data.length>0&&this.siftDown(0),t}},t.prototype.contains=function(t){var n=r.compareToEquals(this.compare);return o.contains(this.data,t,n)},t.prototype.size=function(){return this.data.length},t.prototype.isEmpty=function(){return this.data.length<=0},t.prototype.clear=function(){this.data.length=0},t.prototype.forEach=function(t){o.forEach(this.data,t)},t}();n.default=i},function(t,n,e){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e(3),i=e(0),s=function(t){function n(n,e){var r=t.call(this,e)||this;return r.defaultFactoryFunction=n,r}return r(n,t),n.prototype.setDefault=function(n,e){var r=t.prototype.getValue.call(this,n);return i.isUndefined(r)?(this.setValue(n,e),e):r},n.prototype.getValue=function(t){return this.setDefault(t,this.defaultFactoryFunction())},n}(o.default);n.default=s},function(t,n,e){var r,o,i;!function(s){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=s():null!=e(13)?(o=[],r=s,void 0!==(i="function"==typeof r?r.apply(n,o):r)&&(t.exports=i)):self.sanctuaryTypeIdentifiers=s()}(function(){"use strict";function t(t){return null!=t&&null!=t.constructor&&t.constructor.prototype!==t&&"string"==typeof t.constructor[n]?t.constructor[n]:Object.prototype.toString.call(t).slice("[object ".length,-"]".length)}var n="@@type";return t})},function(t,n){(function(n){t.exports=n}).call(n,{})},function(t,n,e){"use strict";var r=e(47),o=e(1),i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),s=function(t){function n(n,e){return t.call(this,n,e)||this}return i(n,t),n.prototype.handleMouseDown=function(t){var n=Object(o.a)(this.doc,t);return n&&(this.dragging={shape:n,startPos:t}),null},n.prototype.handleMouseUp=function(t){if(null===this.dragging)return null;var n=t.x-this.dragging.startPos.x,e=t.y-this.dragging.startPos.y;return this.doc=Object(o.d)(this.doc,Object(o.h)(this.dragging.shape,n,e)),this.dragging=null,null},n}(r.a);n.a=s},function(t,n,e){"use strict";var r=e(5),o=e.n(r),i=e(14),s=e(1),u=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),a=function(t){function n(n,e){return t.call(this,n,e)||this}return u(n,t),n.prototype.bindEvents=function(){var n=this;t.prototype.bindEvents.call(this);var e=o()(function(t){return n.handleMouseMove(Object(s.b)(t,n.canvas)),!1},16);this.canvas.addEventListener("mousemove",e)},n.prototype.handleMouseMove=function(t){if(null===this.dragging)return null;var n=t.x-this.dragging.startPos.x,e=t.y-this.dragging.startPos.y;return this.doc=Object(s.d)(this.doc,Object(s.h)(this.dragging.shape,n,e)),null},n}(i.a);n.a=a},function(t,n,e){"use strict";var r=e(5),o=e.n(r),i=e(15),s=e(1),u=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),a=function(t){function n(n,e){var r=t.call(this,n,e)||this;return r.pending=null,r}return u(n,t),n.prototype.bindEvents=function(){var n=this;t.prototype.bindEvents.call(this);var e=o()(function(t){return n.handleMouseMove(Object(s.b)(t,n.canvas)),!1},16);this.canvas.addEventListener("mousemove",e)},n.prototype.handleMouseDown=function(t){var n=Object(s.a)(this.doc,t);return n&&(this.pending={shape:n,startPos:t}),null},n.prototype.handleMouseMove=function(t){if(null===this.pending)return null;var n=Object(s.c)(t.x,t.y,this.pending.startPos.x,this.pending.startPos.y);if(null===this.pending||n<=5)return null;this.dragging=this.pending;var e=t.x-this.dragging.startPos.x,r=t.y-this.dragging.startPos.y;return this.doc=Object(s.d)(this.doc,Object(s.h)(this.dragging.shape,e,r)),null},n.prototype.handleMouseUp=function(n){return t.prototype.handleMouseUp.call(this,n),this.pending=null,null},n}(i.a);n.a=a},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(18),o=e(7),i=e(38),s=(e.n(i),e(39)),u=e(46),a=e(49),c=(e.n(a),a),f=document.getElementById("viewport"),l=Array.prototype.slice.call(o.c);window.onload=function(){if(f){if(!c.cssgrid||!c.flexbox||!c.canvas)return void(f.innerHTML="please use modern browsers like Chrome to get the best user experience.");Object(r.a)("minimal_frp",l,s.d),Object(r.a)("dragging_frp",l,s.a),Object(r.a)("fixed_frp",l,s.b),Object(r.a)("shift_frp",l,s.f),Object(r.a)("refine_shift_frp",l,s.e),Object(r.a)("glitch_frp",l,s.c),new u.c("minimal_op",l),new u.a("dragging_op",l),new u.b("fixed_op",l),new u.d("shift_op",l)}}},function(t,n,e){"use strict";var r=e(2),o=e(1),i=e(5),s=e.n(i);n.a=function(t,n,e){return r.d.run(function(){var i=Object(o.e)(t);if(null!==i){var u,a=i.ctx,c=new r.c,f=new r.c,l=new r.c,h=s()(function(t){return l.send(r.e.UNIT)}),p=function(t){return s()(function(n){return t.send(Object(o.b)(n,i.canvas))},16)},d=p(c),y=p(f),v=Object(o.f)(),m=Object(o.f)();if(window.addEventListener("resize",function(t){return h(t),!1}),i.canvas.addEventListener("mousedown",function(t){return d(t),!1}),i.canvas.addEventListener("mouseup",function(t){return y(t),!1}),e.length>=4){var g=new r.c,_=p(g);if(i.canvas.addEventListener("mousemove",function(t){return _(t),!1}),5===e.length){var x=new r.c;document.body.addEventListener("keydown",function(t){return t.shiftKey&&x.send(!0),!1}),document.body.addEventListener("keyup",function(t){return 16===t.keyCode&&x.send(!1),!1}),u=e(c,g,f,x,n)}else u=e(c,g,f,n)}else u=e(c,f,n);u.cSelected?r.b.value(u.cSelected).listen(function(t){var n;n=t?"cursor-move":"cursor-pointer",i.canvas.className="canvas "+n}):i.canvas.className="canvas cursor-move",l.snapshot1(u.cDocument).orElse(r.b.value(u.cDocument)).listen(function(t){Object(o.g)(t,a,[m,v])})}})}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(4);n.arrays=r;var o=e(20);n.Bag=o.default;var i=e(21);n.BSTree=i.default;var s=e(3);n.Dictionary=s.default;var u=e(10);n.Heap=u.default;var a=e(22);n.LinkedDictionary=a.default;var c=e(6);n.LinkedList=c.default;var f=e(23);n.MultiDictionary=f.default;var l=e(11);n.FactoryDictionary=l.default;var h=e(11);n.DefaultDictionary=h.default;var p=e(9);n.Queue=p.default;var d=e(24);n.PriorityQueue=d.default;var y=e(8);n.Set=y.default;var v=e(25);n.Stack=v.default;var m=e(26);n.MultiRootTree=m.default;var g=e(0);n.util=g},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(0),o=e(3),i=e(8),s=function(){function t(t){this.toStrF=t||r.defaultToString,this.dictionary=new o.default(this.toStrF),this.nElements=0}return t.prototype.add=function(t,n){if(void 0===n&&(n=1),r.isUndefined(t)||n<=0)return!1;if(this.contains(t))this.dictionary.getValue(t).copies+=n;else{var e={value:t,copies:n};this.dictionary.setValue(t,e)}return this.nElements+=n,!0},t.prototype.count=function(t){return this.contains(t)?this.dictionary.getValue(t).copies:0},t.prototype.contains=function(t){return this.dictionary.containsKey(t)},t.prototype.remove=function(t,n){if(void 0===n&&(n=1),r.isUndefined(t)||n<=0)return!1;if(this.contains(t)){var e=this.dictionary.getValue(t);return n>e.copies?this.nElements-=e.copies:this.nElements-=n,e.copies-=n,e.copies<=0&&this.dictionary.remove(t),!0}return!1},t.prototype.toArray=function(){for(var t=[],n=this.dictionary.values(),e=0,r=n;e<r.length;e++)for(var o=r[e],i=o.value,s=o.copies,u=0;u<s;u++)t.push(i);return t},t.prototype.toSet=function(){for(var t=new i.default(this.toStrF),n=this.dictionary.values(),e=0,r=n;e<r.length;e++){var o=r[e],s=o.value;t.add(s)}return t},t.prototype.forEach=function(t){this.dictionary.forEach(function(n,e){for(var r=e.value,o=e.copies,i=0;i<o;i++)if(!1===t(r))return!1;return!0})},t.prototype.size=function(){return this.nElements},t.prototype.isEmpty=function(){return 0===this.nElements},t.prototype.clear=function(){this.nElements=0,this.dictionary.clear()},t}();n.default=s},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(0),o=e(9),i=function(){function t(t){this.root=null,this.compare=t||r.defaultCompare,this.nElements=0}return t.prototype.add=function(t){return!r.isUndefined(t)&&(null!==this.insertNode(this.createNode(t))&&(this.nElements++,!0))},t.prototype.clear=function(){this.root=null,this.nElements=0},t.prototype.isEmpty=function(){return 0===this.nElements},t.prototype.size=function(){return this.nElements},t.prototype.contains=function(t){return!r.isUndefined(t)&&null!==this.searchNode(this.root,t)},t.prototype.remove=function(t){var n=this.searchNode(this.root,t);return null!==n&&(this.removeNode(n),this.nElements--,!0)},t.prototype.inorderTraversal=function(t){this.inorderTraversalAux(this.root,t,{stop:!1})},t.prototype.preorderTraversal=function(t){this.preorderTraversalAux(this.root,t,{stop:!1})},t.prototype.postorderTraversal=function(t){this.postorderTraversalAux(this.root,t,{stop:!1})},t.prototype.levelTraversal=function(t){this.levelTraversalAux(this.root,t)},t.prototype.minimum=function(){if(!this.isEmpty())return this.minimumAux(this.root).element},t.prototype.maximum=function(){if(!this.isEmpty())return this.maximumAux(this.root).element},t.prototype.forEach=function(t){this.inorderTraversal(t)},t.prototype.toArray=function(){var t=[];return this.inorderTraversal(function(n){return t.push(n),!0}),t},t.prototype.height=function(){return this.heightAux(this.root)},t.prototype.searchNode=function(t,n){for(var e=null;null!==t&&0!==e;)e=this.compare(n,t.element),e<0?t=t.leftCh:e>0&&(t=t.rightCh);return t},t.prototype.transplant=function(t,n){null===t.parent?this.root=n:t===t.parent.leftCh?t.parent.leftCh=n:t.parent.rightCh=n,null!==n&&(n.parent=t.parent)},t.prototype.removeNode=function(t){if(null===t.leftCh)this.transplant(t,t.rightCh);else if(null===t.rightCh)this.transplant(t,t.leftCh);else{var n=this.minimumAux(t.rightCh);n.parent!==t&&(this.transplant(n,n.rightCh),n.rightCh=t.rightCh,n.rightCh.parent=n),this.transplant(t,n),n.leftCh=t.leftCh,n.leftCh.parent=n}},t.prototype.inorderTraversalAux=function(t,n,e){null===t||e.stop||(this.inorderTraversalAux(t.leftCh,n,e),e.stop||(e.stop=!1===n(t.element),e.stop||this.inorderTraversalAux(t.rightCh,n,e)))},t.prototype.levelTraversalAux=function(t,n){var e=new o.default;for(null!==t&&e.enqueue(t);!e.isEmpty();){if(t=e.dequeue(),!1===n(t.element))return;null!==t.leftCh&&e.enqueue(t.leftCh),null!==t.rightCh&&e.enqueue(t.rightCh)}},t.prototype.preorderTraversalAux=function(t,n,e){null===t||e.stop||(e.stop=!1===n(t.element),e.stop||(this.preorderTraversalAux(t.leftCh,n,e),e.stop||this.preorderTraversalAux(t.rightCh,n,e)))},t.prototype.postorderTraversalAux=function(t,n,e){null===t||e.stop||(this.postorderTraversalAux(t.leftCh,n,e),e.stop||(this.postorderTraversalAux(t.rightCh,n,e),e.stop||(e.stop=!1===n(t.element))))},t.prototype.minimumAux=function(t){for(;null!==t.leftCh;)t=t.leftCh;return t},t.prototype.maximumAux=function(t){for(;null!==t.rightCh;)t=t.rightCh;return t},t.prototype.heightAux=function(t){return null===t?-1:Math.max(this.heightAux(t.leftCh),this.heightAux(t.rightCh))+1},t.prototype.insertNode=function(t){for(var n=null,e=this.root,r=null;null!==e;){if(0===(r=this.compare(t.element,e.element)))return null;r<0?(n=e,e=e.leftCh):(n=e,e=e.rightCh)}return t.parent=n,null===n?this.root=t:this.compare(t.element,n.element)<0?n.leftCh=t:n.rightCh=t,t},t.prototype.createNode=function(t){return{element:t,leftCh:null,rightCh:null,parent:null}},t}();n.default=i},function(t,n,e){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e(3),i=e(0),s=function(){function t(t,n){this.key=t,this.value=n}return t.prototype.unlink=function(){this.prev.next=this.next,this.next.prev=this.prev},t}(),u=function(t){function n(n){var e=t.call(this,n)||this;return e.head=new s(null,null),e.tail=new s(null,null),e.head.next=e.tail,e.tail.prev=e.head,e}return r(n,t),n.prototype.appendToTail=function(t){var n=this.tail.prev;n.next=t,t.prev=n,t.next=this.tail,this.tail.prev=t},n.prototype.getLinkedDictionaryPair=function(t){if(!i.isUndefined(t)){var n="$"+this.toStr(t);return this.table[n]}},n.prototype.getValue=function(t){var n=this.getLinkedDictionaryPair(t);if(!i.isUndefined(n))return n.value},n.prototype.remove=function(n){var e=this.getLinkedDictionaryPair(n);if(!i.isUndefined(e))return t.prototype.remove.call(this,n),e.unlink(),e.value},n.prototype.clear=function(){t.prototype.clear.call(this),this.head.next=this.tail,this.tail.prev=this.head},n.prototype.replace=function(t,n){var e="$"+this.toStr(n.key);n.next=t.next,n.prev=t.prev,this.remove(t.key),n.prev.next=n,n.next.prev=n,this.table[e]=n,++this.nElements},n.prototype.setValue=function(t,n){if(!i.isUndefined(t)&&!i.isUndefined(n)){var e=this.getLinkedDictionaryPair(t),r=new s(t,n),o="$"+this.toStr(t);return i.isUndefined(e)?(this.appendToTail(r),this.table[o]=r,void++this.nElements):(this.replace(e,r),e.value)}},n.prototype.keys=function(){var t=[];return this.forEach(function(n,e){t.push(n)}),t},n.prototype.values=function(){var t=[];return this.forEach(function(n,e){t.push(e)}),t},n.prototype.forEach=function(t){for(var n=this.head.next;null!=n.next;){if(!1===t(n.key,n.value))return;n=n.next}},n}(o.default);n.default=u},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(0),o=e(3),i=e(4),s=function(){function t(t,n,e){void 0===e&&(e=!1),this.dict=new o.default(t),this.equalsF=n||r.defaultEquals,this.allowDuplicate=e}return t.prototype.getValue=function(t){var n=this.dict.getValue(t);return r.isUndefined(n)?[]:i.copy(n)},t.prototype.setValue=function(t,n){if(r.isUndefined(t)||r.isUndefined(n))return!1;if(!this.containsKey(t))return this.dict.setValue(t,[n]),!0;var e=this.dict.getValue(t);return!(!this.allowDuplicate&&i.contains(e,n,this.equalsF))&&(e.push(n),!0)},t.prototype.remove=function(t,n){if(r.isUndefined(n)){var e=this.dict.remove(t);return!r.isUndefined(e)}var o=this.dict.getValue(t);return!!i.remove(o,n,this.equalsF)&&(0===o.length&&this.dict.remove(t),!0)},t.prototype.keys=function(){return this.dict.keys()},t.prototype.values=function(){for(var t=this.dict.values(),n=[],e=0,r=t;e<r.length;e++)for(var o=r[e],i=0,s=o;i<s.length;i++){var u=s[i];n.push(u)}return n},t.prototype.containsKey=function(t){return this.dict.containsKey(t)},t.prototype.clear=function(){this.dict.clear()},t.prototype.size=function(){return this.dict.size()},t.prototype.isEmpty=function(){return this.dict.isEmpty()},t}();n.default=s},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(0),o=e(10),i=function(){function t(t){this.heap=new o.default(r.reverseCompareFunction(t))}return t.prototype.enqueue=function(t){return this.heap.add(t)},t.prototype.add=function(t){return this.heap.add(t)},t.prototype.dequeue=function(){if(0!==this.heap.size()){var t=this.heap.peek();return this.heap.removeRoot(),t}},t.prototype.peek=function(){return this.heap.peek()},t.prototype.contains=function(t){return this.heap.contains(t)},t.prototype.isEmpty=function(){return this.heap.isEmpty()},t.prototype.size=function(){return this.heap.size()},t.prototype.clear=function(){this.heap.clear()},t.prototype.forEach=function(t){this.heap.forEach(t)},t}();n.default=i},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(6),o=function(){function t(){this.list=new r.default}return t.prototype.push=function(t){return this.list.add(t,0)},t.prototype.add=function(t){return this.list.add(t,0)},t.prototype.pop=function(){return this.list.removeElementAtIndex(0)},t.prototype.peek=function(){return this.list.first()},t.prototype.size=function(){return this.list.size()},t.prototype.contains=function(t,n){return this.list.contains(t,n)},t.prototype.isEmpty=function(){return this.list.isEmpty()},t.prototype.clear=function(){this.list.clear()},t.prototype.forEach=function(t){this.list.forEach(t)},t}();n.default=o},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r;!function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER",t[t.INSIDE_AT_END=2]="INSIDE_AT_END",t[t.INSIDE_AT_START=3]="INSIDE_AT_START"}(r||(r={}));var o=function(){function t(t,n){void 0===t&&(t=[]),void 0===n&&(n={}),this.rootIds=t,this.nodes=n,this.initRootIds(),this.initNodes()}return t.prototype.initRootIds=function(){for(var t=0,n=this.rootIds;t<n.length;t++){var e=n[t];this.createEmptyNodeIfNotExist(e)}},t.prototype.initNodes=function(){for(var t in this.nodes)if(this.nodes.hasOwnProperty(t))for(var n=0,e=this.nodes[t];n<e.length;n++){var r=e[n];this.createEmptyNodeIfNotExist(r)}},t.prototype.createEmptyNodeIfNotExist=function(t){this.nodes[t]||(this.nodes[t]=[])},t.prototype.getRootIds=function(){return this.rootIds.slice()},t.prototype.getNodes=function(){var t={};for(var n in this.nodes)this.nodes.hasOwnProperty(n)&&(t[n]=this.nodes[n].slice());return t},t.prototype.getObject=function(){return{rootIds:this.getRootIds(),nodes:this.getNodes()}},t.prototype.toObject=function(){return this.getObject()},t.prototype.flatten=function(){function t(n,e,r,o){if(void 0===o&&(o=0),n&&e&&r&&e[n]){o++;for(var i=e[n],s=0;s<i.length;s++){var u=i[s];r.push({id:u,level:o,hasParent:!0}),t(u,e,r,o)}o--}}for(var n=this,e=[],r=0;r<this.rootIds.length;r++){var o=this.rootIds[r];e.push({id:o,level:0,hasParent:!1,childrenCount:void 0}),t(o,this.nodes,e,0)}for(var i=0,s=e;i<s.length;i++){var u=s[i];u.childrenCount=function(t){if(n.nodes[t]){return n.nodes[t].length}return 0}(u.id)}return e},t.prototype.moveIdBeforeId=function(t,n){return this.moveId(t,n,r.BEFORE)},t.prototype.moveIdAfterId=function(t,n){return this.moveId(t,n,r.AFTER)},t.prototype.moveIdIntoId=function(t,n,e){return void 0===e&&(e=!0),e?this.moveId(t,n,r.INSIDE_AT_START):this.moveId(t,n,r.INSIDE_AT_END)},t.prototype.swapRootIdWithRootId=function(t,n){var e=this.findRootId(t),r=this.findRootId(n);this.swapRootPositionWithRootPosition(e,r)},t.prototype.swapRootPositionWithRootPosition=function(t,n){var e=this.rootIds[n];this.rootIds[n]=this.rootIds[t],this.rootIds[t]=e},t.prototype.deleteId=function(t){this.rootDeleteId(t),this.nodeAndSubNodesDelete(t),this.nodeRefrencesDelete(t)},t.prototype.insertIdBeforeId=function(t,n){var e=this.findRootId(t);e>-1&&this.insertIdIntoRoot(n,e);for(var r in this.nodes)if(this.nodes.hasOwnProperty(r)){var o=this.findNodeId(r,t);o>-1&&this.insertIdIntoNode(r,n,o)}},t.prototype.insertIdAfterId=function(t,n){var e=this.findRootId(t);e>-1&&this.insertIdIntoRoot(n,e+1);for(var r in this.nodes)if(this.nodes.hasOwnProperty(r)){var o=this.findNodeId(r,t);o>-1&&this.insertIdIntoNode(r,n,o+1)}},t.prototype.insertIdIntoId=function(t,n){this.nodeInsertAtEnd(t,n),this.nodes[n]=[]},t.prototype.insertIdIntoRoot=function(t,n){if(void 0===n)this.rootInsertAtEnd(t);else if(n<0){var e=this.rootIds.length;this.rootIds.splice(n+e+1,0,t)}else this.rootIds.splice(n,0,t);this.nodes[t]=this.nodes[t]||[]},t.prototype.insertIdIntoNode=function(t,n,e){if(this.nodes[t]=this.nodes[t]||[],this.nodes[n]=this.nodes[n]||[],void 0===e)this.nodeInsertAtEnd(t,n);else if(e<0){var r=this.nodes[t].length;this.nodes[t].splice(e+r+1,0,n)}else this.nodes[t].splice(e,0,n)},t.prototype.moveId=function(t,n,e){var o=t,i=this.findRootId(o);this.nodes[n];for(var s in this.nodes)if(this.nodes.hasOwnProperty(s)){this.findNodeId(s,n);break}var u=n,a=this.findRootId(u);this.nodes[n];for(var s in this.nodes)if(this.nodes.hasOwnProperty(s)){this.findNodeId(s,n);break}if(i>-1)if(a>-1)switch(this.rootDelete(i),a>i&&a--,e){case r.BEFORE:this.insertIdIntoRoot(o,a);break;case r.AFTER:this.insertIdIntoRoot(o,a+1);break;case r.INSIDE_AT_START:this.nodeInsertAtStart(u,o);break;case r.INSIDE_AT_END:this.nodeInsertAtEnd(u,o)}else{this.rootDelete(i);for(var s in this.nodes)if(this.nodes.hasOwnProperty(s)){var c=this.findNodeId(s,u);if(c>-1){switch(e){case r.BEFORE:this.insertIdIntoNode(s,o,c);break;case r.AFTER:this.insertIdIntoNode(s,o,c+1);break;case r.INSIDE_AT_START:this.nodeInsertAtStart(u,o);break;case r.INSIDE_AT_END:this.nodeInsertAtEnd(u,o)}break}}}else if(a>-1){for(var s in this.nodes)if(this.nodes.hasOwnProperty(s)){var c=this.findNodeId(s,o);if(c>-1){this.nodeDeleteAtIndex(s,c);break}}switch(e){case r.BEFORE:this.insertIdIntoRoot(o,a);break;case r.AFTER:this.insertIdIntoRoot(o,a+1);break;case r.INSIDE_AT_START:this.nodeInsertAtStart(u,o);break;case r.INSIDE_AT_END:this.nodeInsertAtEnd(u,o)}}else{for(var s in this.nodes)if(this.nodes.hasOwnProperty(s)){var c=this.findNodeId(s,o);if(c>-1){this.nodeDeleteAtIndex(s,c);break}}for(var s in this.nodes)if(this.nodes.hasOwnProperty(s)){var c=this.findNodeId(s,u);if(c>-1){switch(e){case r.BEFORE:this.insertIdIntoNode(s,o,c);break;case r.AFTER:this.insertIdIntoNode(s,o,c+1);break;case r.INSIDE_AT_START:this.nodeInsertAtStart(u,o);break;case r.INSIDE_AT_END:this.nodeInsertAtEnd(u,o)}break}}}},t.prototype.swapArrayElements=function(t,n,e){var r=t[n];return t[n]=t[e],t[e]=r,t},t.prototype.rootDeleteId=function(t){var n=this.findRootId(t);n>-1&&this.rootDelete(n)},t.prototype.nodeAndSubNodesDelete=function(t){for(var n=[],e=0;e<this.nodes[t].length;e++){var r=this.nodes[t][e];this.nodeAndSubNodesDelete(r),n.push(t)}this.nodeDelete(t);for(var e=0;e<n.length;e++)this.nodeDelete(n[e])},t.prototype.nodeRefrencesDelete=function(t){for(var n in this.nodes)if(this.nodes.hasOwnProperty(n))for(var e=0;e<this.nodes[n].length;e++){var r=this.nodes[n][e];r===t&&this.nodeDeleteAtIndex(n,e)}},t.prototype.nodeDelete=function(t){delete this.nodes[t]},t.prototype.findRootId=function(t){return this.rootIds.indexOf(t)},t.prototype.findNodeId=function(t,n){return this.nodes[t].indexOf(n)},t.prototype.findNode=function(t){return this.nodes[t]},t.prototype.nodeInsertAtStart=function(t,n){this.nodes[t].unshift(n)},t.prototype.nodeInsertAtEnd=function(t,n){this.nodes[t].push(n)},t.prototype.rootDelete=function(t){this.rootIds.splice(t,1)},t.prototype.nodeDeleteAtIndex=function(t,n){this.nodes[t].splice(n,1)},t.prototype.rootInsertAtStart=function(t){this.rootIds.unshift(t)},t.prototype.rootInsertAtEnd=function(t){this.rootIds.push(t)},t}();n.default=o},function(t,n,e){var r,o,i;!function(s){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=s(e(12)):null!=e(13)?(o=[e(12)],r=s,void 0!==(i="function"==typeof r?r.apply(n,o):r)&&(t.exports=i)):self.sanctuaryTypeClasses=s(self.sanctuaryTypeIdentifiers)}(function(t){"use strict";function n(t){return function(n){return t.concat(n)}}function e(t){return function(n){return t}}function r(t,n){Object.keys(t).forEach(n,t)}function o(t,n){return Object.prototype.hasOwnProperty.call(n,t)}function i(t){return t}function s(t){return function(n){return[t,n]}}function u(n,e){return typeof n==typeof e&&t(n)===t(e)}function a(t){return{value:t,done:!1}}function c(t){return{value:t,done:!0}}function f(t,n,e,r){if(!(this instanceof f))return new f(t,n,e,r);this.name=t,this.url=n,this.test=function(t){return e.every(function(n){return n.test(t)})&&r(t)}}function l(t,n,e){for(var r=e,i=0;i<n.length;i+=1){var s=n[i];if(null==r||!t&&!o(s,r))return null;r=r[s]}return"function"==typeof r?r:null}function h(t,n){return l(!0,t,n)}function p(t){return l(!1,t,qn)}function d(n,e,r){function o(n){var e="fantasy-land/"+n;return r[n]===ln?function(t){var n=h([e],t);return null==n&&"function"==typeof t?p([pn(t),e]):n}:function(n){var r=null!=n&&null!=n.constructor&&n.constructor.prototype===n,o=null;return r||(o=h([e],n)),null==o&&(o=p([t(n),"prototype",e])),o&&o.bind(n)}}var i=Object.keys(r),s=f("sanctuary-type-classes/"+n,"https://github.com/sanctuary-js/sanctuary-type-classes/tree/v7.2.0#"+n,e,function(t){return i.every(function(n){var e=r[n]===ln?t.constructor:t;return null!=o(n)(e)})});return s.methods=i.reduce(function(t,n){return t[n]=o(n),t},{}),s}function y(){return"null"}function v(t){return!0}function m(t){return!0}function g(){return"undefined"}function _(t){return!0}function x(t){return!0}function w(){return"object"==typeof this?"new Boolean("+Ln(this.valueOf())+")":this.toString()}function b(t){return"object"==typeof this?Un(this.valueOf(),t.valueOf()):this===t}function E(t){return"object"==typeof this?Fn(this.valueOf(),t.valueOf()):!1===this||!0===t}function N(){return"object"==typeof this?"new Number("+Ln(this.valueOf())+")":1/this==-1/0?"-0":this.toString(10)}function O(t){return"object"==typeof this?Un(this.valueOf(),t.valueOf()):isNaN(this)&&isNaN(t)||this===t}function I(t){return"object"==typeof this?Fn(this.valueOf(),t.valueOf()):isNaN(this)&&isNaN(t)||this<=t}function T(){var t=isNaN(this.valueOf())?NaN:this.toISOString();return"new Date("+Ln(t)+")"}function S(t){return Un(this.valueOf(),t.valueOf())}function j(t){return Fn(this.valueOf(),t.valueOf())}function C(t){return t.source===this.source&&t.global===this.global&&t.ignoreCase===this.ignoreCase&&t.multiline===this.multiline&&t.sticky===this.sticky&&t.unicode===this.unicode}function A(){return""}function k(){return"object"==typeof this?"new String("+Ln(this.valueOf())+")":JSON.stringify(this)}function P(t){return"object"==typeof this?Un(this.valueOf(),t.valueOf()):this===t}function V(t){return"object"==typeof this?Fn(this.valueOf(),t.valueOf()):this<=t}function M(t){return this+t}function R(){return[]}function z(t){return[t]}function D(t,n){for(var e=[n],r=[];e.length>0;){for(var o=t(a,c,e.shift()),i=[],s=0;s<o.length;s+=1)(o[s].done?r:i).push(o[s].value);Array.prototype.unshift.apply(e,i)}return r}function q(){return[]}function L(){for(var t=this.map(Ln),n=Object.keys(this).sort(),e=0;e<n.length;e+=1){var r=n[e];/^\d+$/.test(r)||t.push(Ln(r)+": "+Ln(this[r]))}return"["+t.join(", ")+"]"}function U(t){if(t.length!==this.length)return!1;for(var n=0;n<this.length;n+=1)if(!Un(this[n],t[n]))return!1;return!0}function F(t){for(var n=0;!0;n+=1){if(n===this.length)return!0;if(n===t.length)return!1;if(!Un(this[n],t[n]))return Fn(this[n],t[n])}}function Q(t){return this.concat(t)}function B(t){return this.map(function(n){return t(n)})}function W(t){for(var n=[],e=0;e<t.length;e+=1)for(var r=0;r<this.length;r+=1)n.push(t[e](this[r]));return n}function $(t){var n=[];return this.forEach(function(e){Array.prototype.push.apply(n,t(e))}),n}function H(t,n){return this.reduce(function(n,e){return t(n,e)},n)}function K(t,e){function r(i,u){switch(u){case 0:return Lt(t,[]);case 2:return Rt(s,e(o[i]),e(o[i+1]));default:var a=2*Math.floor(u/4);return Rt(n,r(i,a),r(i+a,u-a))}}var o=this;return this.length%2==1?Rt(n,kt(z,e(this[0])),r(1,this.length-1)):r(0,this.length)}function G(t){return this.map(function(n,e,r){return t(r.slice(e))})}function J(){return"(function () { return arguments; }("+Array.prototype.map.call(this,Ln).join(", ")+"))"}function Y(t){return U.call(this,t)}function X(t){return F.call(this,t)}function Z(){return"new "+this.name+"("+Ln(this.message)+")"}function tt(t){return Un(this.name,t.name)&&Un(this.message,t.message)}function nt(){return{}}function et(){return{}}function rt(){for(var t=[],n=Object.keys(this).sort(),e=0;e<n.length;e+=1){var r=n[e];t.push(Ln(r)+": "+Ln(this[r]))}return"{"+t.join(", ")+"}"}function ot(t){var n=this,e=Object.keys(this).sort();return Un(e,Object.keys(t).sort())&&e.every(function(e){return Un(n[e],t[e])})}function it(t){for(var n=Object.keys(this).sort(),e=Object.keys(t).sort();;){if(0===n.length)return!0;if(0===e.length)return!1;var r=n.shift(),o=e.shift();if(r<o)return!0;if(r>o)return!1;if(!Un(this[r],t[r]))return Fn(this[r],t[r])}}function st(t){function n(t){e[t]=this[t]}var e={};return r(this,n),r(t,n),e}function ut(t){var n={};return r(this,function(e){n[e]=t(this[e])}),n}function at(t){var n={};return r(this,function(e){o(e,t)&&(n[e]=t[e](this[e]))}),n}function ct(t,n){function e(n,e){return t(n,r[e])}var r=this;return Object.keys(this).sort().reduce(e,n)}function ft(t,n){var e=this;return Object.keys(this).reduce(function(t,r){function o(t){return function(n){var e={};return e[r]=n,st.call(t,e)}}return Rt(o,t,n(e[r]))},Lt(t,{}))}function lt(){return i}function ht(t){return function(n){return t}}function pt(t,n){return function(e){for(var r=a(n);!r.done;)r=t(a,c,r.value)(e);return r.value}}function dt(t){return t===this}function yt(t){var n=this;return function(e){return t(n(e))}}function vt(t){var n=this;return function(e){return t(n(e))}}function mt(t,n){var e=this;return function(r){return n(e(t(r)))}}function gt(t){var n=this;return function(e){return t(e)(n(e))}}function _t(t){var n=this;return function(e){return t(n(e))(e)}}function xt(t){var n=this;return function(e){return t(function(t){return n(jt(e,t))})}}function wt(t){var n=this;return function(e){return n(t(e))}}function bt(t,n){return u(t,n)&&!Fn(n,t)}function Et(t,n){return bt(n,t)}function Nt(t,n){return Fn(n,t)}function Ot(t,n){return Fn(t,n)?t:n}function It(t,n){return Fn(t,n)?n:t}function Tt(t,n){return vn.methods.compose(n)(t)}function St(t){return mn.methods.id(t)()}function jt(t,n){return gn.methods.concat(t)(n)}function Ct(t){return _n.methods.empty(t)()}function At(t){return xn.methods.invert(t)()}function kt(t,n){return wn.methods.map(n)(t)}function Pt(t,n,e){return bn.methods.bimap(e)(t,n)}function Vt(t,n,e){return En.methods.promap(e)(t,n)}function Mt(t,n){return Nn.methods.ap(n)(t)}function Rt(t,n,e){return Mt(kt(t,n),e)}function zt(t,n,e,r){return Mt(Mt(kt(t,n),e),r)}function Dt(t,n){return Rt(e,t,n)}function qt(t,n){return Rt(e(i),t,n)}function Lt(t,n){return On.methods.of(t)(n)}function Ut(t,n){return jt(n,Lt(n.constructor,t))}function Ft(t,n){return jt(Lt(n.constructor,t),n)}function Qt(t,n){return In.methods.chain(n)(t)}function Bt(t){return Qt(i,t)}function Wt(t,n,e){return Tn.methods.chainRec(t)(n,e)}function $t(t,n){if(Array.isArray(n))return n.filter(function(n){return t(n)});var e=n.constructor;return Jt(function(n,r){return t(r)?jt(n,Lt(e,r)):n},Ct(e),n)}function Ht(t,n){var e=n.constructor,r=Gt(e);return Qt(function(n){return t(n)?Lt(e,n):r},n)}function Kt(t,n){return jn.methods.alt(t)(n)}function Gt(t){return Cn.methods.zero(t)()}function Jt(t,n,e){return kn.methods.reduce(e)(t,n)}function Yt(t){return Array.isArray(t)?t.length:Jt(function(t,n){return t+1},0,t)}function Xt(t,n){return Jt(function(n,e){return n||Un(t,e)},!1,n)}function Zt(t){if(Array.isArray(t))return t.slice().reverse();var n=t.constructor;return Jt(function(t,e){return jt(Lt(n,e),t)},Ct(n),t)}function tn(t){return nn(i,t)}function nn(t,n){for(var e=Jt(function(n,e){for(var r=t(e),o=0,i=n.length;o<i;){var s=Math.floor((o+i)/2);Fn(n[s].fx,r)?o=s+1:i=s}return n.splice(o,0,{x:e,fx:r}),n},[],n),r=n.constructor,o=Ct(r),i=0;i<e.length;i+=1)o=jt(o,Lt(r,e[i].x));return o}function en(t,n){var e=!0;return $t(function(n){return e=e&&t(n)},n)}function rn(t,n){var e=!1;return $t(function(n){return e=e||!t(n)},n)}function on(t,n,e){return Pn.methods.traverse(e)(t,n)}function sn(t,n){return on(t,i,n)}function un(t,n){return Vn.methods.extend(n)(t)}function an(t){return un(i,t)}function cn(t){return Mn.methods.extract(t)()}function fn(t,n){return Rn.methods.contramap(n)(t)}f["@@type"]="sanctuary-type-classes/TypeClass";var ln="Constructor",hn="Value",pn=o("name",function(){})?function(t){return t.name}:function(t){var n=/function (\w*)/.exec(t);return null==n?"":n[1]},dn=d("Setoid",[],{equals:hn}),yn=d("Ord",[dn],{lte:hn}),vn=d("Semigroupoid",[],{compose:hn}),mn=d("Category",[vn],{id:ln}),gn=d("Semigroup",[],{concat:hn}),_n=d("Monoid",[gn],{empty:ln}),xn=d("Group",[_n],{invert:hn}),wn=d("Functor",[],{map:hn}),bn=d("Bifunctor",[wn],{bimap:hn}),En=d("Profunctor",[wn],{promap:hn}),Nn=d("Apply",[wn],{ap:hn}),On=d("Applicative",[Nn],{of:ln}),In=d("Chain",[Nn],{chain:hn}),Tn=d("ChainRec",[In],{chainRec:ln}),Sn=d("Monad",[On,In],{}),jn=d("Alt",[wn],{alt:hn}),Cn=d("Plus",[jn],{zero:ln}),An=d("Alternative",[On,Cn],{}),kn=d("Foldable",[],{reduce:hn}),Pn=d("Traversable",[wn,kn],{traverse:hn}),Vn=d("Extend",[wn],{extend:hn}),Mn=d("Comonad",[Vn],{extract:hn}),Rn=d("Contravariant",[],{contramap:hn}),zn=Q,Dn=st,qn={Null:{prototype:{toString:y,"fantasy-land/equals":v,"fantasy-land/lte":m}},Undefined:{prototype:{toString:g,"fantasy-land/equals":_,"fantasy-land/lte":x}},Boolean:{prototype:{toString:w,"fantasy-land/equals":b,"fantasy-land/lte":E}},Number:{prototype:{toString:N,"fantasy-land/equals":O,"fantasy-land/lte":I}},Date:{prototype:{toString:T,"fantasy-land/equals":S,"fantasy-land/lte":j}},RegExp:{prototype:{"fantasy-land/equals":C}},String:{"fantasy-land/empty":A,prototype:{toString:k,"fantasy-land/equals":P,"fantasy-land/lte":V,"fantasy-land/concat":M}},Array:{"fantasy-land/empty":R,"fantasy-land/of":z,"fantasy-land/chainRec":D,"fantasy-land/zero":q,prototype:{toString:L,"fantasy-land/equals":U,"fantasy-land/lte":F,"fantasy-land/concat":Q,"fantasy-land/map":B,"fantasy-land/ap":W,"fantasy-land/chain":$,"fantasy-land/alt":zn,"fantasy-land/reduce":H,"fantasy-land/traverse":K,"fantasy-land/extend":G}},Arguments:{prototype:{toString:J,"fantasy-land/equals":Y,"fantasy-land/lte":X}},Error:{prototype:{toString:Z,"fantasy-land/equals":tt}},Object:{"fantasy-land/empty":nt,"fantasy-land/zero":et,prototype:{toString:rt,"fantasy-land/equals":ot,"fantasy-land/lte":it,"fantasy-land/concat":st,"fantasy-land/map":ut,"fantasy-land/ap":at,"fantasy-land/alt":Dn,"fantasy-land/reduce":ct,"fantasy-land/traverse":ft}},Function:{"fantasy-land/id":lt,"fantasy-land/of":ht,"fantasy-land/chainRec":pt,prototype:{"fantasy-land/equals":dt,"fantasy-land/compose":yt,"fantasy-land/map":vt,"fantasy-land/promap":mt,"fantasy-land/ap":gt,"fantasy-land/chain":_t,"fantasy-land/extend":xt,"fantasy-land/contramap":wt}}},Ln=function(){function n(t,n){e.push(n);try{return t.call(n)}finally{e.pop()}}var e=[];return function(r){if(e.indexOf(r)>=0)return"<Circular>";var o=t(r);if("Object"===o){var i;try{i=n(r.toString,r)}catch(t){}if(null!=i&&"[object Object]"!==i)return i}return n(p([o,"prototype","toString"])||r.toString,r)}}(),Un=function(){var t=[];return function(n,e){if(!u(n,e))return!1;if(t.some(function(t){return t[0]===n&&t[1]===e}))return!0;t.push([n,e]);try{return dn.test(n)&&dn.test(e)&&dn.methods.equals(n)(e)}finally{t.pop()}}}(),Fn=function(){var t=[];return function(n,e){if(!u(n,e))return!1;if(t.some(function(t){return t[0]===n&&t[1]===e}))return Un(n,e);t.push([n,e]);try{return yn.test(n)&&yn.test(e)&&yn.methods.lte(n)(e)}finally{t.pop()}}}();return{TypeClass:f,Setoid:dn,Ord:yn,Semigroupoid:vn,Category:mn,Semigroup:gn,Monoid:_n,Group:xn,Functor:wn,Bifunctor:bn,Profunctor:En,Apply:Nn,Applicative:On,Chain:In,ChainRec:Tn,Monad:Sn,Alt:jn,Plus:Cn,Alternative:An,Foldable:kn,Traversable:Pn,Extend:Vn,Comonad:Mn,Contravariant:Rn,toString:Ln,equals:Un,lt:bt,lte:Fn,gt:Et,gte:Nt,min:Ot,max:It,compose:Tt,id:St,concat:jt,empty:Ct,invert:At,map:kt,bimap:Pt,promap:Vt,ap:Mt,lift2:Rt,lift3:zt,apFirst:Dt,apSecond:qt,of:Lt,append:Ut,prepend:Ft,chain:Qt,join:Bt,chainRec:Wt,filter:$t,filterM:Ht,alt:Kt,zero:Gt,reduce:Jt,size:Yt,elem:Xt,reverse:Zt,sort:tn,sortBy:nn,takeWhile:en,dropWhile:rn,traverse:on,sequence:sn,extend:un,duplicate:an,extract:cn,contramap:fn}})},function(t,n,e){"use strict";var r=e(29);n.a=function(t,n){return t.filter(function(t){return!!Object(r.a)(n,t.cords)&&t})[0]}},function(t,n,e){"use strict";n.a=function(t,n){for(var e=t.x,r=t.y,o=!1,i=n[n.length-1],s=i.x,u=i.y,a=-1;i=n[++a];){var c=i.x,f=i.y;(u<r&&f>=r||f<r&&u>=r)&&s+(r-u)/(f-u)*(c-s)<e&&(o=!o),s=c,u=f}return o}},function(t,n,e){"use strict";n.a=function(t,n){return{x:t.offsetX,y:t.offsetY}}},function(t,n,e){"use strict";n.a=function(t,n){t=t.slice();for(var e=0;e<t.length;e++)t[e].id==n.id&&(t[e]=n);return t}},function(t,n,e){"use strict";var r=e(7);n.a=function(t){var n=document.getElementById(t);if(null===n)return null;var e=document.createElement("canvas");return e.setAttribute("width",(n.offsetWidth||r.b).toString()),e.setAttribute("height",(n.offsetHeight||r.a).toString()),n.appendChild(e),{ctx:e.getContext("2d"),canvas:e}}},function(t,n,e){"use strict";n.a=function(t,n,e,r){return void 0===r&&(r=!1),r&&(Math.abs(n)<Math.abs(e)&&(n=0),Math.abs(e)<Math.abs(n)&&(e=0)),{id:t.id,cords:t.cords.map(function(t){var r=t.x,o=t.y;return{x:r+n,y:o+e}})}}},function(t,n,e){"use strict";var r=e(7),o=function(t,n,e){n.clearRect(0,0,n.canvas.width,n.canvas.height),t.forEach(function(t,o){n.beginPath(),t.cords.forEach(function(t,e){var r=t.x,o=t.y;0===e?n.moveTo(r,o):n.lineTo(r,o)}),n.closePath(),n.fillStyle=Array.isArray(e)?e[o]||r.d:r.d,n.fill()})};n.a=o},function(t,n,e){"use strict";function r(){return"rgb("+Math.floor(256*Math.random())+","+Math.floor(256*Math.random())+","+Math.floor(256*Math.random())+")"}n.a=r},function(t,n,e){"use strict";n.a=function(t,n,e,r){return Math.sqrt(Math.pow(t-e,2)+Math.pow(n-r,2))}},function(t,n){var e;e=function(){return this}();try{e=e||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,n){},function(t,n,e){"use strict";var r=e(40),o=e(41),i=e(42),s=e(43),u=e(44),a=e(45);e.d(n,"d",function(){return s.a}),e.d(n,"a",function(){return r.a}),e.d(n,"b",function(){return o.a}),e.d(n,"c",function(){return i.a}),e.d(n,"f",function(){return u.a}),e.d(n,"e",function(){return a.a})},function(t,n,e){"use strict";var r=e(2),o=e(1);n.a=function(t,n,e,i){var s=new r.a,u=new r.a,a=t.snapshot(s,function(t,n){var e=Object(o.a)(n,t);return e?{shape:e,startPos:t}:null}).filterNotNull(),c=n.snapshot(u,function(t,n){if(null===n)return null;var e=t.x-n.startPos.x,r=t.y-n.startPos.y;return{shape:Object(o.h)(n.shape,e,r),startPos:t}}).filterNotNull(),f=e.snapshot1(u).map(function(t){return null});return s.loop(c.snapshot(s,function(t,n){return t?Object(o.d)(n,t.shape):n}).hold(i)),u.loop(a.orElse(c).orElse(f).hold(null)),{cDocument:s}}},function(t,n,e){"use strict";var r=e(2),o=e(1);n.a=function(t,n,e,i){var s=new r.a,u=new r.a,a=e.snapshot(u,function(t,n){return n||null}).filterNotNull(),c=t.snapshot(s,function(t,n){var e=Object(o.a)(n,t);return e?{shape:e,startPos:t}:null}).filterNotNull(),f=c.orElse(e.map(function(){return null})).hold(null),l=n.snapshot(f,function(t,n){if(null===n)return null;if(Object(o.c)(t.x,t.y,n.startPos.x,n.startPos.y)<=5)return null;var e=t.x-n.startPos.x,r=t.y-n.startPos.y;return{shape:Object(o.h)(n.shape,e,r),startPos:t}}).filterNotNull();return s.loop(l.orElse(a).snapshot(s,function(t,n){return t?Object(o.d)(n,t.shape):n}).hold(i)),u.loop(l.orElse(a.map(function(t){return null})).hold(null)),{cDocument:s}}},function(t,n,e){"use strict";var r=e(2),o=e(1);n.a=function(t,n,e,i,s){var u=new r.a,a=new r.a,c=e.snapshot(a,function(t,n){return n||null}).filterNotNull(),f=i.hold(!1),l=t.snapshot(u,function(t,n){var e=Object(o.a)(n,t);return e?{shape:e,startPos:t}:null}),h=l.filterNotNull(),p=h.orElse(e.map(function(){return null})).hold(null),d=n.snapshot(f,function(t,n){return{pos:t,shift:n}}),y=d.snapshot3(p,a,function(t,n,e){var r=t.shift,i=t.pos;if(null===n)return null;var s=null!==e?e:n;if(Object(o.c)(i.x,i.y,s.startPos.x,s.startPos.y)<=5)return null;var u=i.x-s.startPos.x,a=i.y-s.startPos.y;return{shape:Object(o.h)(s.shape,u,a,r),startPos:i}}).filterNotNull();return u.loop(y.orElse(c).snapshot(u,function(t,n){return t?Object(o.d)(n,t.shape):n}).hold(s)),a.loop(y.orElse(c.map(function(t){return null})).hold(null)),{cDocument:u,cSelected:l.hold(null)}}},function(t,n,e){"use strict";var r=e(2),o=e(1);n.a=function(t,n,e){var i=new r.a,s=new r.a,u=t.snapshot(i,function(t,n){var e=Object(o.a)(n,t);return e?{shape:e,startPos:t}:null}).filterNotNull(),a=n.snapshot(s,function(t,n){if(null===n)return null;var e=t.x-n.startPos.x,r=t.y-n.startPos.y;return{shape:Object(o.h)(n.shape,e,r),startPos:t}}).filterNotNull(),c=a.map(function(t){return null});return s.loop(u.orElse(c).hold(null)),i.loop(a.snapshot(i,function(t,n){return t?Object(o.d)(n,t.shape):n}).hold(e)),{cDocument:i}}},function(t,n,e){"use strict";var r=e(2),o=e(1);n.a=function(t,n,e,i,s){var u=new r.a,a=new r.a,c=e.snapshot(a,function(t,n){return n||null}).filterNotNull(),f=i.hold(!1),l=t.snapshot(u,function(t,n){var e=Object(o.a)(n,t);return e?{shape:e,startPos:t}:null}).filterNotNull(),h=l.orElse(e.map(function(){return null})).hold(null),p=n.snapshot(f,function(t,n){return{pos:t,shift:n}}),d=p.snapshot(h,function(t,n){var e=t.shift,r=t.pos;if(null===n)return null;if(Object(o.c)(r.x,r.y,n.startPos.x,n.startPos.y)<=5)return null;var i=r.x-n.startPos.x,s=r.y-n.startPos.y;return{shape:Object(o.h)(n.shape,i,s,e),startPos:r}}).filterNotNull();return u.loop(d.orElse(c).snapshot(u,function(t,n){return t?Object(o.d)(n,t.shape):n}).hold(s)),a.loop(d.orElse(c.map(function(t){return null})).hold(null)),{cDocument:u}}},function(t,n,e){"use strict";var r=e(2),o=e(1);n.a=function(t,n,e,i,s){var u=new r.a,a=new r.a,c=e.snapshot(a,function(t,n){return n||null}).filterNotNull(),f=i.hold(!1),l=t.snapshot(u,function(t,n){var e=Object(o.a)(n,t);return e?{shape:e,startPos:t}:null}).filterNotNull(),h=l.orElse(e.map(function(){return null})).hold(null),p=n.snapshot(f,function(t,n){return{pos:t,shift:n}}),d=p.snapshot3(h,a,function(t,n,e){var r=t.shift,i=t.pos;if(null===n)return null;var s=null!==e?e:n;if(Object(o.c)(i.x,i.y,s.startPos.x,s.startPos.y)<=5)return null;var u=i.x-s.startPos.x,a=i.y-s.startPos.y;return{shape:Object(o.h)(s.shape,u,a,r),startPos:i}}).filterNotNull();return u.loop(d.orElse(c).snapshot(u,function(t,n){return t?Object(o.d)(n,t.shape):n}).hold(s)),a.loop(d.orElse(c.map(function(t){return null})).hold(null)),{cDocument:u}}},function(t,n,e){"use strict";var r=e(14),o=e(15),i=e(16),s=e(48);e.d(n,"c",function(){return r.a}),e.d(n,"a",function(){return o.a}),e.d(n,"b",function(){return i.a}),e.d(n,"d",function(){return s.a})},function(t,n,e){"use strict";var r=e(1),o=e(5),i=e.n(o),s=function(){function t(t,n){this.dragging=null;var e=Object(r.e)(t);null!==e&&(this.ctx=e.ctx,this.canvas=e.canvas,this.colors=[0,1].map(function(t){return Object(r.f)()}),this.bindEvents(),this.doc=n)}return Object.defineProperty(t.prototype,"doc",{get:function(){return this._doc},set:function(t){this._doc=t,this.render()},enumerable:!0,configurable:!0}),t.prototype.bindEvents=function(){var t=this,n=i()(function(n){return t.render(),!1},16),e=i()(function(n){return t.handleMouseDown(Object(r.b)(n,t.canvas)),!1},16),o=i()(function(n){return t.handleMouseUp(Object(r.b)(n,t.canvas)),!1},16);window.addEventListener("resize",n),this.canvas.addEventListener("mousedown",e),this.canvas.addEventListener("mouseup",o)},t.prototype.handleMouseDown=function(t){return null},t.prototype.handleMouseUp=function(t){return null},t.prototype.render=function(){Object(r.g)(this.doc,this.ctx,this.colors)},t}();n.a=s},function(t,n,e){"use strict";var r=e(16),o=e(1),i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),s=function(t){function n(n,e){var r=t.call(this,n,e)||this;return r.holdShift=!1,r}return i(n,t),n.prototype.bindEvents=function(){var n=this;t.prototype.bindEvents.call(this),document.body.addEventListener("keydown",function(t){return t.shiftKey&&(n.holdShift=!0),!1}),document.body.addEventListener("keyup",function(t){return 16===t.keyCode&&(n.holdShift=!1),!1})},n.prototype.handleMouseMove=function(t){if(null===this.pending)return null;var n=Math.sqrt(Math.pow(t.x-this.pending.startPos.x,2)+Math.pow(t.y-this.pending.startPos.y,2));if(null===this.pending||n<=5)return null;this.dragging=this.pending;var e=t.x-this.dragging.startPos.x,r=t.y-this.dragging.startPos.y;return this.doc=Object(o.d)(this.doc,Object(o.h)(this.dragging.shape,e,r,this.holdShift)),null},n}(r.a);n.a=s},function(t,n){!function(n){var e="Modernizr"in n,r=n.Modernizr;/*! modernizr 3.5.0 (Custom Build) | MIT *
 * https://modernizr.com/download/?-canvas-cssgrid_cssgridlegacy-flexbox !*/
!function(t,n,e){function r(t,n){return typeof t===n}function o(t,n){return!!~(""+t).indexOf(n)}function i(){return"function"!=typeof n.createElement?n.createElement(arguments[0]):N?n.createElementNS.call(n,"http://www.w3.org/2000/svg",arguments[0]):n.createElement.apply(n,arguments)}function s(){var t=n.body;return t||(t=i(N?"svg":"body"),t.fake=!0),t}function u(t,e,r,o){var u,a,c,f,l="modernizr",h=i("div"),p=s();if(parseInt(r,10))for(;r--;)c=i("div"),c.id=o?o[r]:l+(r+1),h.appendChild(c);return u=i("style"),u.type="text/css",u.id="s"+l,(p.fake?p:h).appendChild(u),p.appendChild(h),u.styleSheet?u.styleSheet.cssText=t:u.appendChild(n.createTextNode(t)),h.id=l,p.fake&&(p.style.background="",p.style.overflow="hidden",f=E.style.overflow,E.style.overflow="hidden",E.appendChild(p)),a=e(h,t),p.fake?(p.parentNode.removeChild(p),E.style.overflow=f,E.offsetHeight):h.parentNode.removeChild(h),!!a}function a(t){return t.replace(/([A-Z])/g,function(t,n){return"-"+n.toLowerCase()}).replace(/^ms-/,"-ms-")}function c(n,e,r){var o;if("getComputedStyle"in t){o=getComputedStyle.call(t,n,e);var i=t.console;if(null!==o)r&&(o=o.getPropertyValue(r));else if(i){var s=i.error?"error":"log";i[s].call(i,"getComputedStyle returning null, its possible modernizr test results are inaccurate")}}else o=!e&&n.currentStyle&&n.currentStyle[r];return o}function f(n,r){var o=n.length;if("CSS"in t&&"supports"in t.CSS){for(;o--;)if(t.CSS.supports(a(n[o]),r))return!0;return!1}if("CSSSupportsRule"in t){for(var i=[];o--;)i.push("("+a(n[o])+":"+r+")");return i=i.join(" or "),u("@supports ("+i+") { #modernizr { position: absolute; } }",function(t){return"absolute"==c(t,null,"position")})}return e}function l(t){return t.replace(/([a-z])-([a-z])/g,function(t,n,e){return n+e.toUpperCase()}).replace(/^-/,"")}function h(t,n,s,u){function a(){h&&(delete I.style,delete I.modElem)}if(u=!r(u,"undefined")&&u,!r(s,"undefined")){var c=f(t,s);if(!r(c,"undefined"))return c}for(var h,p,d,y,v,m=["modernizr","tspan","samp"];!I.style&&m.length;)h=!0,I.modElem=i(m.shift()),I.style=I.modElem.style;for(d=t.length,p=0;d>p;p++)if(y=t[p],v=I.style[y],o(y,"-")&&(y=l(y)),I.style[y]!==e){if(u||r(s,"undefined"))return a(),"pfx"!=n||y;try{I.style[y]=s}catch(t){}if(I.style[y]!=v)return a(),"pfx"!=n||y}return a(),!1}function p(t,n){return function(){return t.apply(n,arguments)}}function d(t,n,e){var o;for(var i in t)if(t[i]in n)return!1===e?t[i]:(o=n[t[i]],r(o,"function")?p(o,e||n):o);return!1}function y(t,n,e,o,i){var s=t.charAt(0).toUpperCase()+t.slice(1),u=(t+" "+b.join(s+" ")+s).split(" ");return r(n,"string")||r(n,"undefined")?h(u,n,o,i):(u=(t+" "+T.join(s+" ")+s).split(" "),d(u,n,e))}function v(t,n,r){return y(t,e,e,n,r)}var m=[],g={_version:"3.5.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(t,n){var e=this;setTimeout(function(){n(e[t])},0)},addTest:function(t,n,e){m.push({name:t,fn:n,options:e})},addAsyncTest:function(t){m.push({name:null,fn:t})}},_=function(){};_.prototype=g,_=new _;var x=[],w="Moz O ms Webkit",b=g._config.usePrefixes?w.split(" "):[];g._cssomPrefixes=b;var E=n.documentElement,N="svg"===E.nodeName.toLowerCase(),O={elem:i("modernizr")};_._q.push(function(){delete O.elem});var I={style:O.elem.style};_._q.unshift(function(){delete I.style});var T=g._config.usePrefixes?w.toLowerCase().split(" "):[];g._domPrefixes=T,g.testAllProps=y,g.testAllProps=v,_.addTest("cssgridlegacy",v("grid-columns","10px",!0)),_.addTest("cssgrid",v("grid-template-rows","none",!0)),_.addTest("flexbox",v("flexBasis","1px",!0)),_.addTest("canvas",function(){var t=i("canvas");return!(!t.getContext||!t.getContext("2d"))}),function(){var t,n,e,o,i,s,u;for(var a in m)if(m.hasOwnProperty(a)){if(t=[],n=m[a],n.name&&(t.push(n.name.toLowerCase()),n.options&&n.options.aliases&&n.options.aliases.length))for(e=0;e<n.options.aliases.length;e++)t.push(n.options.aliases[e].toLowerCase());for(o=r(n.fn,"function")?n.fn():n.fn,i=0;i<t.length;i++)s=t[i],u=s.split("."),1===u.length?_[u[0]]=o:(!_[u[0]]||_[u[0]]instanceof Boolean||(_[u[0]]=new Boolean(_[u[0]])),_[u[0]][u[1]]=o),x.push((o?"":"no-")+u.join("-"))}}(),delete g.addTest,delete g.addAsyncTest;for(var S=0;S<_._q.length;S++)_._q[S]();t.Modernizr=_}(n,document),t.exports=n.Modernizr,e?n.Modernizr=r:delete n.Modernizr}(window)}]);